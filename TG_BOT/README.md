## 使用说明
### 变量

#### 必填项目：

| 变量名         | 说明                                                                 |
|----------------|----------------------------------------------------------------------|
| `DOMAIN`       | Workers 或 Pages 的自定义域名。                                     |
| `USERNAME`     | 用于身份验证的用户名。                                               |
| `PASSWORD`     | 用于身份验证的密码。                                                 |
| `ADMIN_PATH`   | 管理页面的路径，不需要/。   示例：admin                                                  |
| `TG_BOT_TOKEN` | 通过 @BotFather 获取的 Telegram 机器人令牌。                        |
| `TG_CHAT_ID`   | 填账号的ID机器人就发给你，填频道或者群组的，机器人就发到频道或者群组，最终的文件链接是一样的。 |

访问```https://api.telegram.org/bot<YourBotToken>/getUpdates```可以获取用户ID或者频道ID。```<YourBotToken>```替换为你的```TG_BOT_TOKEN```

在绑定数据库的时候使用
| 变量名    | 说明                                      |
|-----------|-------------------------------------------|
| `DATABASE`| 数据库变量，用于绑定数据库。              |

#### 选填：

| 变量名        | 说明                                      |
|---------------|-------------------------------------------|
| `ENABLE_AUTH` | 设置为 `true` 时启用访客验证，为空或者不设置代表关闭访客验证。 |

### 数据库初始化指令
```
CREATE TABLE media (
    file_id TEXT PRIMARY KEY,
    fp_ts INTEGER NOT NULL, 
    file_path TEXT NOT NULL,
    timestamp INTEGER NOT NULL,
    url TEXT NOT NULL
);
```

# 功能

- 支持访客验证。

- 支持多文件上传。
- 支持查看历史记录。
- 支持批量管理后台文件。
- 支持在图床界面粘贴上传。
- 支持上传≤20MB的图像文件。
- 支持选择图片后会自动上传。
- 支持JPEG、JPG、PNG、GIF格式。
- 在写入数据库之前，检查数据是否已存在，避免重复。
- 支持在管理界面显示图片上传时间，并按上传时间排序。
- 支持修改后台路径为 /admin，可在代码的第二行进行调整。
- 默认仅代理数据库中的图片链接，在后台删除后链接无法访问。
- **默认开启压缩加快上传速度，不推荐关闭，因为上传到频道也会进行压缩**。
- 支持URL、BBCode和Markdown格式，点击对应按钮可自动复制相应格式的链接。
- 对于需要自定义用户界面的用户，您可以自行修改代码。在修改时希望您能**保留项目的开源地址**。
